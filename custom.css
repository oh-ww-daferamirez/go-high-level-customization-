/* =========================================
   ARM - GoHighLevel Custom Skin
   Version: 32.0 (Header Factory Reset & Geometry Safety)
   ========================================= */

/* --- 0. Design Tokens (PASTEL LIGHT) --- */
:root {
    /* Palette: Morning Mist */
    --arm-mist-start: #d7e3fc !important;
    /* Lavender */
    --arm-mist-end: #abc4ff !important;
    /* Baby Blue Ice */
    --arm-mist-text: #374151 !important;
    /* Charcoal Gray */
    --arm-mist-active: #FFFFFF !important;
    /* Pure White */
    --arm-mist-accent: #4F46E5 !important;
    /* Indigo for Focus */
    --arm-mist-accent-hover: #4338ca !important;
    /* Darker Indigo */
    --arm-mist-focus-ring: rgba(79, 70, 229, 0.25) !important;

    --arm-bg-body: #F9FAFB !important;
    --arm-font-family: 'Poppins', sans-serif !important;
}

@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

html,
body {
    font-family: var(--arm-font-family);
    -webkit-font-smoothing: antialiased;
}

/* --- 1. Sidebar (Base) --- */
#sidebar-v2,
.sidebar-v2-location #sidebar-v2,
.hl_settings--sidebar,
aside {
    background: linear-gradient(180deg, var(--arm-mist-start) 0%, var(--arm-mist-end) 100%) !important;
    border-right: 1px solid rgba(255, 255, 255, 0.5) !important;
}

/* --- 2. HEADER PROTECTION (Factory Default) --- */
/* 
   We explicitly DO NOT style:
   - .hl_header_avatar
   - .bg-orange-600 (Bell)
   - .bg-green-500 (Status)
   
   These must remain Native GHL. We also ensure our Geometry rules don't crush them.
*/

/* --- 3. THE BLUE KILLER (Tier 1: SOLID/DARK) --- */
[class*="bg-blue-"],
[class*="bg-primary"],
.bg-primary,
.btn-primary,
.hl_button--primary,
.badge-primary {
    background-color: var(--arm-mist-accent) !important;
    border-color: var(--arm-mist-accent) !important;
}

/* Ensure we don't accidentally target text inside non-blue containers if nesting happens */
[class*="bg-blue-"] *,
[class*="bg-primary"] *,
.bg-primary *,
.btn-primary *,
.hl_button--primary *,
.badge-primary * {
    color: #FFFFFF !important;
    fill: #FFFFFF !important;
}

/* --- 4. THE BLUE KILLER (Tier 2: LIGHT/PASTEL OVERRIDE) --- */
[class*="bg-blue-50"],
[class*="bg-blue-100"],
[class*="bg-blue-200"],
[class*="bg-primary-50"],
[class*="bg-primary-100"],
[class*="bg-primary-light"],
.badge-primary-light,
.bg-light-blue,
.badge-light,
.chat-bubble-mine {
    background-color: var(--arm-mist-start) !important;
    color: var(--arm-mist-accent) !important;
    border-color: transparent !important;
}

[class*="bg-blue-50"] *,
[class*="bg-blue-100"] *,
[class*="bg-blue-200"] *,
[class*="bg-primary-50"] *,
[class*="bg-primary-100"] *,
.badge-primary-light *,
.badge-light *,
.chat-bubble-mine * {
    color: var(--arm-mist-accent) !important;
    fill: var(--arm-mist-accent) !important;
}

/* --- 5. NAIVE UI BUTTONS (Specific Interaction Fixes) --- */
.n-button--primary-type,
.n-button--info-type,
.n-button--success-type {
    background-color: var(--arm-mist-accent) !important;
    color: #FFFFFF !important;
    border: 1px solid var(--arm-mist-accent) !important;
    --n-text-color: #FFFFFF !important;
    --n-text-color-hover: #FFFFFF !important;
}

.n-button--primary-type *,
.n-button--info-type *,
.n-button--success-type * {
    color: #FFFFFF !important;
    fill: #FFFFFF !important;
}

.n-button--default-type,
.n-button--tertiary-type,
.n-button--quaternary-type {
    background-color: #FFFFFF !important;
    color: var(--arm-mist-accent) !important;
    border: 1px solid var(--arm-mist-accent) !important;
    --n-text-color: var(--arm-mist-accent) !important;
    --n-text-color-hover: var(--arm-mist-accent) !important;
}

.n-button--default-type *,
.n-button--tertiary-type *,
.n-button--quaternary-type * {
    color: var(--arm-mist-accent) !important;
    fill: var(--arm-mist-accent) !important;
}

/* --- 6. SIDEBAR RECOVERY (Nuclear Contrast Fix) --- */
#sidebar-v2 .nav-link:not(.active),
#sidebar-v2 .nav-link:not(.active) *,
aside a:not(.active),
aside a:not(.active) * {
    background-color: transparent !important;
    background-image: none !important;
    box-shadow: none !important;
    border: none !important;
    color: var(--arm-mist-text) !important;
    fill: var(--arm-mist-text) !important;
}

.nav-link.active,
aside a.active {
    background-color: var(--arm-mist-active) !important;
    color: var(--arm-mist-accent) !important;
    box-shadow: 0 4px 6px rgba(171, 196, 255, 0.4) !important;
    font-weight: 600 !important;
}

.nav-link.active *,
aside a.active * {
    color: var(--arm-mist-accent) !important;
    fill: var(--arm-mist-accent) !important;
    background-color: transparent !important;
}

/* --- 7. BUTTON GEOMETRY (SCOPED & SAFE) --- */
/* Only apply to actual button elements to avoid crushing Avatars/Icons */
button.btn,
a.btn,
.hl_button,
.q-btn {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    min-height: 38px !important;
    padding: 6px 16px !important;
    line-height: 1.5 !important;
    font-family: var(--arm-font-family);
    font-weight: 500 !important;
    letter-spacing: 0.3px !important;
    border-radius: 8px !important;
    gap: 8px !important;
}

/* n-button Relaxed */
.n-button {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 6px 12px !important;
    border-radius: 8px !important;
    font-family: var(--arm-font-family);
    font-weight: 500 !important;
}

/* 
   CRITICAL FIX: Scope "rounded-full" geometry only to BUTTONS.
   This prevents Avatars (which are div.rounded-full) from getting 18px padding.
*/
button[class*="rounded-full"],
a[class*="rounded-full"],
.btn.rounded-full {
    border-radius: 9999px !important;
    padding-left: 18px !important;
    padding-right: 18px !important;
}

/* --- 8. Button Colors (Legacy / Wildcards) --- */
.btn-white,
.btn-light,
.hl_button--default,
.q-btn--outline,
[class*="btn-outline-blue"] {
    background-color: #FFFFFF !important;
    border: 1px solid var(--arm-mist-accent) !important;
    color: var(--arm-mist-accent) !important;
}

.btn-white:hover,
.hl_button--default:hover {
    background-color: var(--arm-mist-start) !important;
}

.btn-white *,
.hl_button--default *,
.btn-outline-primary * {
    color: var(--arm-mist-accent) !important;
    fill: var(--arm-mist-accent) !important;
}

/* --- 9. Navigation, Forms, Reset --- */
.nav-tabs .nav-link.active,
.n-tabs-tab--active,
.q-tab--active,
[id*="smart-list"] .active {
    color: var(--arm-mist-accent) !important;
    border-bottom: 2px solid var(--arm-mist-accent) !important;
    background-color: transparent !important;
}

.nav-tabs .nav-link.active *,
.n-tabs-tab--active * {
    color: var(--arm-mist-accent) !important;
}

.page-item.active .page-link,
.n-pagination-item--active {
    background-color: var(--arm-mist-accent) !important;
    border-color: var(--arm-mist-accent) !important;
    color: #FFFFFF !important;
}

.page-link {
    color: var(--arm-mist-accent) !important;
}

input:focus,
select:focus,
textarea:focus {
    border-color: var(--arm-mist-accent) !important;
    box-shadow: 0 0 0 3px var(--arm-mist-focus-ring) !important;
}

.dropdown-menu {
    background-color: #FFFFFF !important;
    color: #374151 !important;
}

#app .hl_header--logo,
#app #ghl-logo {
    display: none !important;
}